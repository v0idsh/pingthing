# Example Render configuration for PingThing
# Use this as a reference when creating services via the Render Dashboard or the Render spec.
# Replace <repo> and <branch> with your repository values and set env vars in the dashboard.

services:
  - type: web
    name: pingthing-web
    env: node
    region: oregon
    branch: main
    plan: free
    buildCommand: pnpm install && pnpm build
    startCommand: pnpm start
    repo: <your-github-repo>
    root: .
    envVars:
      - key: SITE_URL
        value: https://pingthing.onrender.com

  - type: worker
    name: pingthing-worker
    env: node
    region: oregon
    branch: main
    plan: free
    buildCommand: pnpm install
    startCommand: pnpm run start:worker
    repo: <your-github-repo>
    root: .
    envVars:
      - key: WORKER_MODE
        value: idle
      - key: WORKER_POLL_INTERVAL
        value: '60'
